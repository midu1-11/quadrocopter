# 四轴飞行器  
## 一.项目简介
四轴飞行器是大三上学期计划做的，陆续一直拖到寒假，目前硬件部分已经全部完成，软件部分写了平衡PID，但参数还在调，目前遥控器只有调参功能。  
## 二.开源链接
演示视频:  未发布
  
hardware文件夹中有原理图的pdf文件、pcb的gerber文件以及遥控器外形的dxf文件  
  
software文件夹中有飞控和遥控器的程序 
  
## 三.开发环境
1.keil stm32开发  
  
2.LaserMaker  遥控器dxf外形文件绘制  
  
3.立创eda pcb设计  
  
## 四.功能展示
图1 主板正面  
![主板正面](https://s4.ax1x.com/2022/02/27/bn4HHS.jpg)  
图2 主板背面  
![主板背面](https://s4.ax1x.com/2022/02/27/bn5jaD.jpg)  
图3 无线充电座内部  
![无线充电座内部](https://s4.ax1x.com/2022/02/27/bnIisP.jpg)  
 
## 五.技术详情  
1.陀螺仪和加速度计采用mpu6050芯片，使用芯片自带DMP姿态解算获取四元数然后计算出俯仰角、翻滚角、偏航角
  
2.电机采用四个720空心杯电机  
  
3.光照强度由光敏电阻测得  
  
4.土壤湿度是我取出土壤湿度模块前端的金属片得到的  
  
5.屏幕亮度通过P波配合mos管调节tft屏幕背光端电压实现  
  
6.无线充电采用优信5V1A模块实现  
  
7.本页面的图片来自于路过图床  
  
## 六.项目的不足  
无线充电解决方案由于外壳的阻隔距离，充电效果只能耗电速度持平。只有使用背部typec才能充上电。  
  
获取时间的api有时不稳定，存在获取失败的情况  
  
代码中移植了文件系统，pcb也预留了SD卡槽，但为了实现流畅的动画效果，所有的图片都是以C文件的形式存储进内部RAM(520kB)中。  
  
由于时间问题项目没有实现蓝牙和扫码配网功能，各种页面也有待开发  
  
本项目部分参考了FranHawk和稚晖君的资料，十分感谢！
